
Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mcredential-initializer[0m
{"level":"info","ts":1620916555.8021934,"caller":"creds-init/main.go:44","msg":"Credentials initialized."}

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mworking-dir-initializer[0m

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mplace-tools[0m

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-entando-app-builder-master-xb27m-s5b2z[0m
{"level":"info","ts":1620916599.6506586,"caller":"git/git.go:105","msg":"Successfully cloned https://github.com/entando/app-builder.git @ v6.3.94 in path /workspace/source"}
{"level":"warn","ts":1620916599.6509056,"caller":"git/git.go:152","msg":"Unexpected error: creating symlink: symlink /tekton/home/.ssh /****/.ssh: file exists"}
{"level":"info","ts":1620916599.7349496,"caller":"git/git.go:133","msg":"Successfully initialized and updated submodules in path /workspace/source"}

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:60b3bdefc4b65f60d0585a6315e93386cdb067d4
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-npm-install[0m

> husky@1.3.1 install /workspace/source/node_modules/husky
> node husky install

husky > setting up git hooks
CI detected, skipping Git hooks installation.

> node-sass@4.13.1 install /workspace/source/node_modules/node-sass
> node scripts/install.js

Downloading binary from https://github.com/sass/node-sass/releases/download/v4.13.1/linux-x64-72_binding.node
Download complete
Binary saved to /workspace/source/node_modules/node-sass/vendor/linux-x64-72/binding.node
Caching binary to /tekton/home/.npm/node-sass/4.13.1/linux-x64-72_binding.node

> core-js@2.6.9 postinstall /workspace/source/node_modules/core-js
> node scripts/postinstall || echo "ignore"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m


> core-js-pure@3.7.0 postinstall /workspace/source/node_modules/core-js-pure
> node -e "try{require('./postinstall')}catch(e){}"


> ejs@2.7.4 postinstall /workspace/source/node_modules/ejs
> node ./postinstall.js

Thank you for installing [35mEJS[0m: built with the [32mJake[0m JavaScript build tool ([32mhttps://jakejs.com/[0m)


> cypress@4.10.0 postinstall /workspace/source/node_modules/cypress
> node index.js --e**c install

Installing Cypress (version: 4.10.0)

[?25l[14:37:47]  Downloading Cypress     [started]
[14:37:51]  Downloading Cypress     [completed]
[14:37:51]  Unzipping Cypress       [started]
[14:38:10]  Unzipping Cypress       [completed]
[14:38:10]  Finishing Installation  [started]
[14:38:10]  Finishing Installation  [completed]
[?25h
You can now open Cypress by running: node_modules/.bin/cypress open

https://on.cypress.io/installing-cypress

[?25h
> node-sass@4.13.1 postinstall /workspace/source/node_modules/node-sass
> node scripts/build.js

Binary found at /workspace/source/node_modules/node-sass/vendor/linux-x64-72/binding.node
Testing binary
Binary is fine

> styled-components@4.4.1 postinstall /workspace/source/node_modules/styled-components
> node ./scripts/postinstall.js || exit 0

Use styled-components at work? Consider supporting our development efforts at https://opencollective.com/styled-components
npm WARN The package whatwg-fetch is included as both a dev and production dependency.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 2380 packages from 1900 contributors and audited 2390 packages in 85.644s

52 packages are looking for funding
  run `npm fund` for details

found 1441 vulnerabilities (890 low, 88 moderate, 463 high)
  run `npm audit fix` to fix them, or `npm audit` for details

> node-sass@4.13.1 install /workspace/source/node_modules/node-sass
> node scripts/install.js

node-sass build Binary found at /workspace/source/node_modules/node-sass/vendor/linux-x64-72/binding.node

> node-sass@4.13.1 postinstall /workspace/source/node_modules/node-sass
> node scripts/build.js

Binary found at /workspace/source/node_modules/node-sass/vendor/linux-x64-72/binding.node
Testing binary
Binary is fine
node-sass@4.13.1 /workspace/source/node_modules/node-sass

> app-builder@6.3.2 lint /workspace/source
> eslint ./src


/workspace/source/src/ui/fragments/list/FragmentSearchForm.js
  55:5  warning  Unexpected console statement  no-console
  57:5  warning  Unexpected console statement  no-console
  59:5  warning  Unexpected console statement  no-console
  87:5  warning  Unexpected console statement  no-console
  88:5  warning  Unexpected console statement  no-console

âœ– 5 problems (0 errors, 5 warnings)


Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-npm-test[0m
Unable to retrieve container logs for docker://5c0633c902c30418153630888021e5604f95a31cd0f91245cc22e2eb96bb640d

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-npm-build[0m

> app-builder@6.3.2 app-install /workspace/source
> node apps/install.js "cms"


INSTALLING @ENTANDO/CMS

npm WARN enzyme-redux@0.1.7 requires a peer of enzyme@^2.0.0 but none is installed. You must install peer dependencies yourself.
npm WARN enzyme-redux@0.1.7 requires a peer of react@^15.0.0 but none is installed. You must install peer dependencies yourself.
npm WARN eslint-config-react-app@2.1.0 requires a peer of babel-eslint@^7.2.3 but none is installed. You must install peer dependencies yourself.
npm WARN eslint-config-react-app@2.1.0 requires a peer of eslint-plugin-jsx-a11y@^5.1.1 but none is installed. You must install peer dependencies yourself.
npm WARN react-ellipsis-with-tooltip@1.0.7 requires a peer of react-bootstrap@^0.31.0 but none is installed. You must install peer dependencies yourself.
npm WARN table-resolver@3.3.0 requires a peer of redux@>= 3.0.0 < 4.0.0 but none is installed. You must install peer dependencies yourself.
npm WARN react-html-table-to-excel@2.0.0 requires a peer of react@^15.x.x but none is installed. You must install peer dependencies yourself.
npm WARN react-excel-workbook@0.0.4 requires a peer of react@^15.0.0 but none is installed. You must install peer dependencies yourself.
npm WARN react-excel-workbook@0.0.4 requires a peer of react-dom@^15.0.0 but none is installed. You must install peer dependencies yourself.
npm WARN babel-core@7.0.0-bridge.0 requires a peer of @babel/core@^7.0.0-0 but none is installed. You must install peer dependencies yourself.
npm WARN The package whatwg-fetch is included as both a dev and production dependency.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ @entando/cms@0.2.255
added 54 packages from 41 contributors and audited 2390 packages in 27.707s

52 packages are looking for funding
  run `npm fund` for details

found 1441 vulnerabilities (890 low, 88 moderate, 463 high)
  run `npm audit fix` to fix them, or `npm audit` for details


  installation complete

ADDING @ENTANDO/CMS TO APP-BUILDER


CREATING APP IMPORT FILE

  Imports file created: /workspace/source/src/entando-apps.js

> app-builder@6.3.2 build /workspace/source
> node scripts/build.js

Creating an optimized production build...
Compiled with warnings.

./src/ui/fragments/list/FragmentSearchForm.js
Module Warning (from ./node_modules/eslint-loader/index.js):

  Line 55:  Unexpected console statement  no-console
  Line 57:  Unexpected console statement  no-console
  Line 59:  Unexpected console statement  no-console
  Line 87:  Unexpected console statement  no-console
  Line 88:  Unexpected console statement  no-console

@babel/runtime
  Multiple versions of @babel/runtime found:
    7.12.5 ./~/redux-form/~/@babel/runtime
    7.5.5 ./~/@babel/runtime

@entando/ddtable
  Multiple versions of @entando/ddtable found:
    1.0.5 ./~/@entando/ddtable
    1.0.6 ./~/@entando/datatable/~/@entando/ddtable

classnames
  Multiple versions of classnames found:
    2.2.5 ./~/classnames
    2.2.6 ./~/reactour/~/classnames

fast-deep-equal
  Multiple versions of fast-deep-equal found:
    2.0.1 ./~/fast-deep-equal
    3.1.3 ./~/react-bootstrap-typeahead/~/fast-deep-equal

isarray
  Multiple versions of isarray found:
    0.0.1 ./~/react-router/~/isarray
    1.0.0 ./~/isarray

object-keys
  Multiple versions of object-keys found:
    1.0.11 ./~/object-keys
    1.1.1 ./~/react-bootstrap-typeahead/~/object-keys

popper.js
  Multiple versions of popper.js found:
    1.14.3 ./~/popper.js
    1.16.1 ./~/react-bootstrap-typeahead/~/popper.js

react-is
  Multiple versions of react-is found:
    16.13.1 ./~/react-redux/~/react-is
    16.8.6 ./~/react-is

react-overlays
  Multiple versions of react-overlays found:
    0.8.3 ./~/react-overlays
    1.2.0 ./~/react-bootstrap-typeahead/~/react-overlays

regenerator-runtime
  Multiple versions of regenerator-runtime found:
    0.11.1 ./~/regenerator-runtime
    0.13.3 ./~/@babel/runtime/~/regenerator-runtime
    0.13.7 ./~/@babel/runtime-corejs3/~/regenerator-runtime

reselect
  Multiple versions of reselect found:
    3.0.1 ./~/@entando/apimanager/~/reselect
    4.0.0 ./~/reselect

warning
  Multiple versions of warning found:
    3.0.0 ./~/warning
    4.0.3 ./~/react-roving-tabindex/~/warning

Check how you can resolve duplicate packages: 
https://github.com/darrenscerri/duplicate-package-checker-webpack-plugin#resolving-duplicate-packages-in-your-bundle

asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).
This can impact web performance.
Assets: 
  static/media/OpenSans-Light-webfont.41ef8e5d.svg (850 KiB)
  static/media/OpenSans-Regular-webfont.d9bee607.svg (851 KiB)
  static/media/OpenSans-LightItalic-webfont.b348357e.svg (854 KiB)
  static/media/OpenSans-Italic-webfont.3e2b2e91.svg (854 KiB)
  static/media/OpenSans-Semibold-webfont.400ab808.svg (850 KiB)
  static/media/OpenSans-SemiboldItalic-webfont.7350876e.svg (853 KiB)
  static/media/OpenSans-Bold-webfont.99c9f24d.svg (850 KiB)
  static/media/OpenSans-BoldItalic-webfont.04b273bc.svg (853 KiB)
  static/media/OpenSans-ExtraBoldItalic-webfont.6be75e80.svg (853 KiB)
  static/media/OpenSans-ExtraBold-webfont.c13d9e6d.svg (850 KiB)
  static/media/fontawesome-webfont.912ec66d.svg (434 KiB)
  main.css (636 KiB)
  static/js/main.2edb59e4.js (6.79 MiB)

entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.
Entrypoints:
  main (7.41 MiB)
      main.css
      static/js/main.2edb59e4.js

Search for the keywords to learn more about each warning.
To ignore, add // eslint-disable-next-line to the line before.

File sizes after gzip:

  1.72 MB    build/static/js/main.2edb59e4.js
  103.35 KB  build/main.css
  53.98 KB   build/static/js/0.76b82e21.chunk.js
  11.37 KB   build/static/js/3.002369c1.chunk.js
  5.24 KB    build/static/js/1.f407cd1a.chunk.js
  4.16 KB    build/static/js/4.7039acd0.chunk.js
  2.45 KB    build/static/js/9.40d975f2.chunk.js
  1.82 KB    build/static/js/7.20aa3aca.chunk.js
  1.32 KB    build/static/js/5.6886b387.chunk.js
  927 B      build/static/js/6.94b6a64e.chunk.js
  608 B      build/static/js/8.5d295bf0.chunk.js

The bundle size is significantly larger than recommended.
Consider reducing it with code splitting: https://goo.gl/9VhYWB
You can also analyze the project dependencies: https://goo.gl/LeUzfb

The project was built assuming it is hosted at /app-builder/.
You can control this with the homepage field in your package.json.

The build folder is ready to be deployed.

Find out more about deployment here:

  http://bit.ly/CRA-deploy


Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0001] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0001] Retrieving image manifest registry.access.redhat.com/ubi8/nginx-118:1-25 
[36mINFO[0m[0002] Retrieving image manifest registry.access.redhat.com/ubi8/nginx-118:1-25 
[36mINFO[0m[0003] Built cross stage deps: map[]                
[36mINFO[0m[0003] Retrieving image manifest registry.access.redhat.com/ubi8/nginx-118:1-25 
[36mINFO[0m[0004] Retrieving image manifest registry.access.redhat.com/ubi8/nginx-118:1-25 
[36mINFO[0m[0005] E**cuting 0 build triggers                   
[36mINFO[0m[0005] Applying label name=Entando App Builder      
[36mINFO[0m[0005] Applying label maintainer=dev@entando.com    
[36mINFO[0m[0005] Applying label vendor=Entando Inc.           
[36mINFO[0m[0005] Applying label version=v0                    
[36mINFO[0m[0005] Applying label release=6.3.2                 
[36mINFO[0m[0005] Applying label summary=Entando App Builder   
[36mINFO[0m[0005] Applying label description=The Entando App Builder is the front end environment to interact with the micro frontends, the WCMS, and other Entando components 
[36mINFO[0m[0005] Checking for cached layer *********/todo/cache:79e12e666e2c4bee6d603***499601820db0dd46314fb93867a4f81b3d1b17e4... 
[36mINFO[0m[0006] No cached layer found for cmd COPY licenses /licenses 
[36mINFO[0m[0006] cmd: EXPOSE                                  
[36mINFO[0m[0006] Adding exposed port: 8081/tcp                
[36mINFO[0m[0006] cmd: USER                                    
[36mINFO[0m[0006] cmd: USER                                    
[36mINFO[0m[0006] Unpacking ****fs as cmd COPY licenses /licenses requires it. 
[36mINFO[0m[0022] ARG VERSION                                  
[36mINFO[0m[0022] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0022] LABEL name="Entando App Builder"       maintainer="dev@entando.com"       vendor="Entando Inc."       version="v${VERSION}"       release="6.3.2"       summary="Entando App Builder"       description="The Entando App Builder is the front end environment to interact with the micro frontends, the WCMS, and other Entando components" 
[36mINFO[0m[0022] Applying label name=Entando App Builder      
[36mINFO[0m[0022] Applying label maintainer=dev@entando.com    
[36mINFO[0m[0022] Applying label vendor=Entando Inc.           
[36mINFO[0m[0022] Applying label version=v0                    
[36mINFO[0m[0022] Applying label release=6.3.2                 
[36mINFO[0m[0022] Applying label summary=Entando App Builder   
[36mINFO[0m[0022] Applying label description=The Entando App Builder is the front end environment to interact with the micro frontends, the WCMS, and other Entando components 
[36mINFO[0m[0022] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0022] COPY licenses /licenses                      
[36mINFO[0m[0022] Resolving 2 paths                            
[36mINFO[0m[0022] Taking snapshot of files...                  
[36mINFO[0m[0022] EXPOSE 8081                                  
[36mINFO[0m[0022] cmd: EXPOSE                                  
[36mINFO[0m[0022] Adding exposed port: 8081/tcp                
[36mINFO[0m[0022] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0022] Pushing layer *********/todo/cache:79e12e666e2c4bee6d603***499601820db0dd46314fb93867a4f81b3d1b17e4 to cache now 
[36mINFO[0m[0022] COPY ./build /opt/app-****/src/app-builder   
[36mINFO[0m[0022] Resolving 127 paths                          
[36mINFO[0m[0022] Taking snapshot of files...                  
[36mINFO[0m[0023] Pushing layer *********/todo/cache:06d50056a80006bfb9b979e966d650b534ca84a96f3269813e69f3f888893171 to cache now 
[36mINFO[0m[0023] USER ****                                    
[36mINFO[0m[0023] cmd: USER                                    
[36mINFO[0m[0023] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0023] RUN fix-permissions /opt/app-****/src/app-builder 
[36mINFO[0m[0023] Taking snapshot of full file******...        
[36mINFO[0m[0026] Resolving 17175 paths                        
[36mINFO[0m[0029] cmd: /bin/sh                                 
[36mINFO[0m[0029] args: [-c fix-permissions /opt/app-****/src/app-builder] 
[36mINFO[0m[0029] util.Lookup returned: &{Uid:0 Gid:0 Username:**** Name:**** HomeDir:/****} 
[36mINFO[0m[0029] performing slow lookup of group ids for **** 
[36mINFO[0m[0029] Running: [/bin/sh -c fix-permissions /opt/app-****/src/app-builder] 
[36mINFO[0m[0029] Taking snapshot of full file******...        
[36mINFO[0m[0029] Resolving 17175 paths                        
[36mINFO[0m[0033] Pushing layer *********/todo/cache:f06943259e2c3c5d8abfccfa3f08db55a2ca4819762aa1a5bcdbbcd64bb33457 to cache now 
[36mINFO[0m[0033] COPY ./nginx.conf ${NGINX_CONF_PATH}         
[36mINFO[0m[0033] Resolving 1 paths                            
[36mINFO[0m[0033] Taking snapshot of files...                  
[36mINFO[0m[0033] USER default                                 
[36mINFO[0m[0033] cmd: USER                                    
[36mINFO[0m[0033] Pushing layer *********/todo/cache:e11d44d39041bde1d3d6afbfa9a858d6f12ed12244dcbc2986177763723ba09e to cache now 
[36mINFO[0m[0033] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0033] COPY ./docker-entrypoint.sh /usr/local/bin   
[36mINFO[0m[0033] Resolving 1 paths                            
[36mINFO[0m[0033] Taking snapshot of files...                  
[36mINFO[0m[0033] ENTRYPOINT ["/usr/local/bin/docker-entrypoint.sh"] 
[36mINFO[0m[0033] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0033] CMD ["nginx", "-g", "daemon off;"]           
[36mINFO[0m[0033] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0033] Pushing layer *********/todo/cache:cfe3923e43a25e3faf03e7bdad3a14aa0d14d690b18e27e09b2959d922656aa5 to cache now 
[33mWARN[0m[0034] error uploading layer to cache: failed to push to destination *********/todo/cache:79e12e666e2c4bee6d603***499601820db0dd46314fb93867a4f81b3d1b17e4: HEAD https://index.*********/v2/todo/cache/blobs/sha256:782974f6cb3c09e34bc28b7acea219b5597abd113949a039c3db7fbe78b9204b: unsupported status code 401 

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mentando-app-builder-master-xb27m-1[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-update-image-map[0m
configmap/entando-docker-image-info-v6.3 patched
