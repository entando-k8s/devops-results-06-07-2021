---
mixins:
- "Secretive"
- "Deployable"
fileSystemUserAndGroupId: 26
defaultServiceAccountName: "default"
externalService:
  mixins:
  - "ExternalService"
  port: 5432
  host: "pg.apps.serv.run"
  createDelegateService: true
replicas: 1
customResource:
  apiVersion: "entando.org/v1"
  kind: "EntandoDatabaseService"
  metadata:
    name: "my-external-dbms"
    namespace: "my-namespace"
  isCustomResource: true
containers:
- memoryLimitMebibytes: 256
  dockerImageInfo:
    registryHost: "docker.io"
    organization: "centos"
    repository: "postgresql-12-centos7"
    tag: "latest"
  volumeMountPath: "/var/lib/pgsql/data"
  namesOfSecretsToMount: []
  additionalPorts: []
  primaryPort: 5432
  storageLimitMebibytes: 2048
  accessMode: "ReadWriteOnce"
  mixins:
  - "DeployableContainer"
  - "HasHealthCommand"
  - "ConfigurableResourceContainer"
  - "PersistentVolumeAwareContainer"
  - "ServiceBackingContainer"
  maximumStartupTimeSeconds: 90
  healthCheckCommand: "/usr/libexec/check-container"
  kubernetesPermissions: []
  environmentVariables:
  - name: "POSTGRESQL_DATABASE"
    value: "my_db"
  - name: "POSTGRESQL_USER"
    value: "my_db_user"
  - name: "POSTGRESQL_PASSWORD"
    valueFrom:
      secretKeyRef:
        key: "password"
        name: "my-existing-dbms-admin-secret"
        optional: false
  - name: "POSTGRESQL_ADMIN_PASSWORD"
    valueFrom:
      secretKeyRef:
        key: "password"
        name: "my-existing-dbms-admin-secret"
        optional: false
  nameQualifier: "db"
  secretsToMount: []
  cpuLimitMillicores: 500
secrets: []
serviceAccountToUse: "default"
