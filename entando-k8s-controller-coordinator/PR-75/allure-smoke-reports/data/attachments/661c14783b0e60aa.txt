---
apiVersion: "apps/v1"
kind: "Deployment"
metadata:
  annotations:
    deployment.kubernetes.io/revision: "2"
    jenkins.io/chart: "preview"
    kubectl.kubernetes.io/last-applied-configuration: "{\"apiVersion\":\"extensions/v1beta1\"\
      ,\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"jenkins.io/chart\"\
      :\"preview\"},\"labels\":{\"chart\":\"preview-0.0.0-SNAPSHOT-PR-75-35\",\"draft\"\
      :\"draft-app\",\"jenkins.io/chart-release\":\"preview\",\"jenkins.io/namespace\"\
      :\"entando-k8s-controller-coordinator-carcpr75\",\"jenkins.io/version\":\"0.0.0-SNAPSHOT-PR-75-35\"\
      },\"name\":\"preview-preview\",\"namespace\":\"entando-k8s-controller-coordinator-carcpr75\"\
      },\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"app\":\"preview-preview\"\
      ,\"draft\":\"draft-app\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"\
      preview-preview\",\"draft\":\"draft-app\"}},\"spec\":{\"containers\":[{\"env\"\
      :[{\"name\":\"ENTANDO_K8S_OPERATOR_SERVICEACCOUNT\",\"valueFrom\":{\"fieldRef\"\
      :{\"fieldPath\":\"spec.serviceAccountName\"}}},{\"name\":\"ENTANDO_CA_SECRET_NAME\"\
      ,\"value\":\"test-ca-secret\"},{\"name\":\"ENTANDO_DEFAULT_ROUTING_SUFFIX\"\
      ,\"value\":\"apps.serv.run\"},{\"name\":\"ENTANDO_DISABLE_KEYCLOAK_SSL_REQUIREMENT\"\
      ,\"value\":\"false\"},{\"name\":\"ENTANDO_DOCKER_IMAGE_VERSION_FALLBACK\",\"\
      value\":\"6.0.0\"},{\"name\":\"ENTANDO_DOCKER_REGISTRY_FALLBACK\",\"value\"\
      :\"docker.io\"},{\"name\":\"ENTANDO_K8S_OPERATOR_COMPLIANCE_MODE\",\"value\"\
      :\"redhat\"},{\"name\":\"ENTANDO_K8S_OPERATOR_IMAGE_PULL_SECRETS\",\"value\"\
      :\"redhat-registry\"},{\"name\":\"ENTANDO_K8S_OPERATOR_SCOPE\",\"value\":\"\
      namespace\"},{\"name\":\"ENTANDO_K8S_OPERATOR_SECURITY_MODE\",\"value\":\"strict\"\
      },{\"name\":\"ENTANDO_POD_COMPLETION_TIMEOUT_SECONDS\",\"value\":\"600\"},{\"\
      name\":\"ENTANDO_POD_READINESS_TIMEOUT_SECONDS\",\"value\":\"600\"},{\"name\"\
      :\"ENTANDO_TLS_SECRET_NAME\",\"value\":\"test-tls-secret\"}],\"image\":\"docker.io/entando/entando-k8s-controller-coordinator:0.0.0-SNAPSHOT-PR-75-35\"\
      ,\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"exec\":{\"command\":[\"\
      cat\",\"/tmp/EntandoControllerCoordinator.ready\"]},\"initialDelaySeconds\"\
      :60,\"periodSeconds\":5,\"successThreshold\":1,\"timeoutSeconds\":1},\"name\"\
      :\"preview\",\"readinessProbe\":{\"exec\":{\"command\":[\"cat\",\"/tmp/EntandoControllerCoordinator.ready\"\
      ]},\"initialDelaySeconds\":60,\"periodSeconds\":5,\"successThreshold\":1,\"\
      timeoutSeconds\":1},\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"\
      512Mi\"},\"requests\":{\"cpu\":\"400m\",\"memory\":\"512Mi\"}},\"terminationGracePeriodSeconds\"\
      :null,\"volumeMounts\":null}],\"serviceAccountName\":\"entando-operator\",\"\
      volumes\":null}}}}\n"
  creationTimestamp: "2021-06-22T14:19:31Z"
  generation: 2
  labels:
    chart: "preview-0.0.0-SNAPSHOT-PR-75-35"
    draft: "draft-app"
    jenkins.io/chart-release: "preview"
    jenkins.io/namespace: "entando-k8s-controller-coordinator-carcpr75"
    jenkins.io/version: "0.0.0-SNAPSHOT-PR-75-35"
  name: "preview-preview"
  namespace: "entando-k8s-controller-coordinator-carcpr75"
  resourceVersion: "205099718"
  selfLink: "/apis/apps/v1/namespaces/entando-k8s-controller-coordinator-carcpr75/deployments/preview-preview"
  uid: "dc9b9bd8-d364-11eb-ad14-fa163ea775ae"
spec:
  progressDeadlineSeconds: 600
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: "preview-preview"
      draft: "draft-app"
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 1
    type: "RollingUpdate"
  template:
    metadata:
      labels:
        app: "preview-preview"
        draft: "draft-app"
    spec:
      containers:
      - env:
        - name: "ENTANDO_K8S_OPERATOR_SERVICEACCOUNT"
          valueFrom:
            fieldRef:
              apiVersion: "v1"
              fieldPath: "spec.serviceAccountName"
        - name: "ENTANDO_CA_SECRET_NAME"
          value: "test-ca-secret"
        - name: "ENTANDO_DEFAULT_ROUTING_SUFFIX"
          value: "apps.serv.run"
        - name: "ENTANDO_DISABLE_KEYCLOAK_SSL_REQUIREMENT"
          value: "false"
        - name: "ENTANDO_DOCKER_IMAGE_VERSION_FALLBACK"
          value: "6.0.0"
        - name: "ENTANDO_DOCKER_REGISTRY_FALLBACK"
          value: "docker.io"
        - name: "ENTANDO_K8S_OPERATOR_COMPLIANCE_MODE"
          value: "redhat"
        - name: "ENTANDO_K8S_OPERATOR_IMAGE_PULL_SECRETS"
          value: "redhat-registry"
        - name: "ENTANDO_K8S_OPERATOR_SCOPE"
          value: "namespace"
        - name: "ENTANDO_K8S_OPERATOR_SECURITY_MODE"
          value: "strict"
        - name: "ENTANDO_POD_COMPLETION_TIMEOUT_SECONDS"
          value: "600"
        - name: "ENTANDO_POD_READINESS_TIMEOUT_SECONDS"
          value: "600"
        - name: "ENTANDO_TLS_SECRET_NAME"
          value: "test-tls-secret"
        image: "docker.io/entando/entando-k8s-controller-coordinator:0.0.0-SNAPSHOT-PR-75-35"
        imagePullPolicy: "Always"
        livenessProbe:
          exec:
            command:
            - "cat"
            - "/tmp/EntandoControllerCoordinator.ready"
          failureThreshold: 3
          initialDelaySeconds: 60
          periodSeconds: 5
          successThreshold: 1
          timeoutSeconds: 1
        name: "preview"
        readinessProbe:
          exec:
            command:
            - "cat"
            - "/tmp/EntandoControllerCoordinator.ready"
          failureThreshold: 3
          initialDelaySeconds: 60
          periodSeconds: 5
          successThreshold: 1
          timeoutSeconds: 1
        resources:
          limits:
            cpu: "500m"
            memory: "512Mi"
          requests:
            cpu: "400m"
            memory: "512Mi"
        terminationMessagePath: "/dev/termination-log"
        terminationMessagePolicy: "File"
      dnsPolicy: "ClusterFirst"
      restartPolicy: "Always"
      schedulerName: "default-scheduler"
      securityContext: {}
      serviceAccount: "entando-operator"
      serviceAccountName: "entando-operator"
      terminationGracePeriodSeconds: 30
status:
  availableReplicas: 1
  conditions:
  - lastTransitionTime: "2021-06-22T14:19:31Z"
    lastUpdateTime: "2021-06-22T14:19:31Z"
    message: "Deployment has minimum availability."
    reason: "MinimumReplicasAvailable"
    status: "True"
    type: "Available"
  - lastTransitionTime: "2021-06-22T14:45:37Z"
    lastUpdateTime: "2021-06-22T14:46:50Z"
    message: "ReplicaSet \"preview-preview-68bd6db599\" has successfully progressed."
    reason: "NewReplicaSetAvailable"
    status: "True"
    type: "Progressing"
  observedGeneration: 2
  readyReplicas: 1
  replicas: 1
  updatedReplicas: 1
